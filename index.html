<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <title>旅行照片整理器</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <!-- 头部统计 -->
        <header class="header">
            <h1>📸 旅行相册</h1>
            <div class="stats">
                <div class="stat-item">
                    <span class="stat-label">保留</span>
                    <span class="stat-value" id="kept-count">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">删除</span>
                    <span class="stat-value" id="deleted-count">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">剩余</span>
                    <span class="stat-value" id="remaining-count">0</span>
                </div>
            </div>
        </header>

        <!-- 上传区域 -->
        <div id="upload-section" class="upload-section">
            <div class="upload-box">
                <div class="upload-icon">📷</div>
                <h2>开始整理你的旅行照片</h2>
                <p class="upload-desc">像刷抖音一样轻松整理照片</p>
                <input type="file" id="file-input" multiple accept="image/*" style="display: none;">
                <button class="btn-upload" onclick="document.getElementById('file-input').click()">
                    选择照片
                </button>
                <p class="upload-hint">向右滑保留 👉 · 向左滑删除 👈</p>
            </div>
        </div>

        <!-- 滑动卡片区域 -->
        <div id="swipe-section" class="swipe-section" style="display: none;">
            <!-- 提示标签 -->
            <div class="hint-labels">
                <div class="hint-label hint-delete">
                    <span class="hint-icon">❌</span>
                    <span>删除</span>
                </div>
                <div class="hint-label hint-keep">
                    <span class="hint-icon">✅</span>
                    <span>保留</span>
                </div>
            </div>

            <!-- 卡片堆栈 -->
            <div id="card-stack" class="card-stack"></div>

            <!-- 操作按钮 -->
            <div class="action-buttons">
                <button class="btn-action btn-delete" id="btn-delete" title="删除">
                    <span class="btn-icon">❌</span>
                </button>
                <button class="btn-action btn-undo" id="btn-undo" title="撤销">
                    <span class="btn-icon">↩️</span>
                </button>
                <button class="btn-action btn-keep" id="btn-keep" title="保留">
                    <span class="btn-icon">✅</span>
                </button>
            </div>
        </div>

        <!-- 视频生成区域 -->
        <div id="generate-section" class="generate-section" style="display: none;">
            <div class="completion-card">
                <div class="completion-icon">🎉</div>
                <h2>整理完成！</h2>
                <p>你保留了 <strong id="final-kept-count">0</strong> 张照片</p>
            </div>

            <!-- 生成按钮 -->
            <div class="generate-buttons">
                <button class="btn-generate" id="btn-generate-storybook">
                    📖 生成旅行故事簿
                </button>
                <button class="btn-restart" id="btn-restart">
                    🔄 重新开始
                </button>
            </div>

            <!-- 生成进度 -->
            <div id="generation-progress" class="generation-progress" style="display: none;">
                <h3>正在生成旅行故事...</h3>
                <div class="progress-bar">
                    <div id="progress-fill" class="progress-fill"></div>
                </div>
                <p id="progress-text" class="progress-text">准备中...</p>
            </div>

            <!-- 旅行故事簿 -->
            <div id="storybook-section" class="storybook-section" style="display: none;">
                <div class="storybook-header">
                    <h3>📖 我的旅行故事</h3>
                </div>
                
                <!-- AI生成的故事文本 -->
                <div class="story-narrative" id="story-narrative"></div>
                
                <!-- 照片画廊 -->
                <div class="story-gallery" id="story-gallery"></div>
                
                <!-- 分享按钮 -->
                <div class="storybook-actions">
                    <button class="btn-download" id="btn-download-story">
                        💾 保存故事簿
                    </button>
                    <button class="btn-share" id="btn-share-story">
                        📤 分享
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
